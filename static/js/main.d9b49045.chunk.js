(this.webpackJsonpmovielist=this.webpackJsonpmovielist||[]).push([[0],{28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),o=a(22),i=a.n(o),s=a(5),r=a(2),l=a(9),j=a(6),d=(a(28),a(0)),b=function(e){var t=e.bottom,a=e.right,c=e.activeColor;return Object(d.jsx)("span",{id:"nextBtn",style:{bottom:t,right:a,backgroundColor:c}})},v=(a(30),function(e){var t=e.val,a=e.getVal;return Object(d.jsx)("div",{className:"custom-option",onClick:function(e){return a(t,e.target)},children:t})}),u=(a(31),function(){var e={Arabic:"ar",chinese:"zh",english:"en",french:"fr",german:"de",hindi:"hi",japanese:"ja",korean:"ko",malayalam:"ml",persian:"fa",russian:"ru",tamil:"ta",telugu:"te",turkish:"tr",urdu:"ur"},t=Object(c.useState)([]),a=Object(j.a)(t,2),n=a[0],o=a[1],i=function(t,a){a.classList.add("selected");var c=[].concat(Object(l.a)(n),[e[t]]);c=Object(l.a)(new Set(c)),console.log(c),o(c)},r=n[n.length-1],u=Object.keys(e);return Object(d.jsxs)("div",{className:"language-screen",children:[Object(d.jsx)("h1",{className:"page-title",children:"choose languages"}),Object(d.jsx)("div",{className:"langg-pref-wrapper",children:u.map((function(e,t){return Object(d.jsx)(v,{val:e,getVal:i},t)}))}),Object(d.jsx)(s.b,{to:"/genre",state:{language:r},children:Object(d.jsx)(b,{bottom:"5vh",right:"5vh",activeColor:n.length>0?"#7dddf4":"rgb(176, 190, 206)"})})]})}),h=(a(32),function(){var e=Object(r.e)().state.language,t={action:28,adventure:12,animation:16,comedy:35,crime:80,drama:18,family:10751,fantasy:14,horror:27,mystery:9648,romance:10749,scifi:878,thriller:53},a=Object(c.useState)([]),n=Object(j.a)(a,2),o=n[0],i=n[1],u=function(e,a){a.classList.add("selected");var c=[].concat(Object(l.a)(o),[t[e]]);c=Object(l.a)(new Set(c)),console.log(c),i(c)},h={language:e,genre:o[o.length-1]},m=Object.keys(t);return Object(d.jsxs)("div",{className:"genre-screen",children:[Object(d.jsx)("h1",{className:"page-title",children:"choose genre"}),Object(d.jsx)("div",{className:"genre-pref-wrapper",children:m.map((function(e,t){return Object(d.jsx)(v,{val:e,getVal:u},t)}))}),Object(d.jsx)(s.b,{to:"/vote",state:{data:h},children:Object(d.jsx)(b,{bottom:"5vh",right:"5vh",activeColor:o.length>0?"#7dddf4":"rgb(176, 190, 206)"})})]})}),m=a(7),O=a(23),g=a.n(O),x=(a(51),function(e){var t=e.movieData,a=e.voteMovie;if("object"!==typeof t)return Object(d.jsx)("h2",{children:"no data.."});var c=t.poster_path,n=t.title,o=t.vote_average,i=t.runtime,s=t.release_date,r=t.adult,l=t.popularity,j="https://image.tmdb.org/t/p/w300/".concat(c)||!1,b=Object(d.jsx)("span",{style:{color:"red"},children:"N/A"});return Object(d.jsxs)("div",{className:"movie-container",children:[Object(d.jsx)("img",{className:"moviePoster",src:j||b,alt:"poster"}),Object(d.jsx)("h2",{className:"movieName",children:n}),o?Object(d.jsx)("span",{className:"movieInfo",children:"rating: ".concat(o)}):b,i?Object(d.jsx)("span",{className:"movieInfo",children:" dur: ".concat(i)}):b,s?Object(d.jsx)("span",{className:"movieInfo",children:"release date: ".concat(s)}):b,Object(d.jsx)("span",{className:"movieInfo",children:"adult: ".concat(r)}),l?Object(d.jsx)("span",{className:"movieInfo",children:"popularity: ".concat(l)}):b,Object(d.jsx)("button",{id:"voteBtn",className:"customBtn",onClick:a,children:"vote"})]})}),p=(a(52),function(){var e=Object(r.e)().state.data,t=Object(c.useState)({movieList:{},initialMovies:[],nextMovieData:{},votedMovieData:{},voteList:[],movieIndex:1,page:1,upVoted:"",downVoted:"",anyErrors:""}),a=Object(j.a)(t,2),n=a[0],o=a[1];Object(c.useEffect)((function(){i().then((function(e){var t=e.data.results;console.log("fetched_movies: ",t.length),o(Object(m.a)(Object(m.a)({},n),{},{movieList:t,initialMovies:[t[0],t[1]],nextMovieData:{},movieIndex:1}))})).catch((function(e){console.log(e.message),o(Object(m.a)(Object(m.a)({},n),{},{anyErrors:e.message}))}))}),[n.page]),Object(c.useEffect)((function(){var e=n.movieList,t=n.movieIndex;e&&(console.log("showing movie ",t),o(Object(m.a)(Object(m.a)({},n),{},{nextMovieData:e[t]})))}),[n.movieList,n.movieIndex]);var i=function(){var t=e.language||"en-US",a=e.genre||"27",c=n.page,o="https://api.themoviedb.org/3/discover/movie?api_key=".concat("08d7db24695193b7c6dbdac9d5ac3933","&language=").concat(t,"&sort_by=popularity.desc?&include_video=false&page=").concat(c,"&with_genre=").concat(a);return g.a.get(o)},l=function(e,t){var a,c=n.nextMovieData,i=n.movieIndex,s=n.votedMovieData,r=n.upVoted,l=n.downVoted,j=n.voteList,d=n.page,b=n.initialMovies;b&&(a={A:b[0].title,B:b[1].title}),i>0&&(b=null,r=e,l="A"===e?"B":"A",s=t,a=a?Object(m.a)(Object(m.a)({},a),{},{result:t.title}):{A:j[j.length-1].result,B:c.title,result:t.title},j.push(a),console.log("upVoted: ".concat(r,", downVoted: ").concat(l,", full vote list --"))),o(Object(m.a)(Object(m.a)({},n),{},{movieIndex:i+1,initialMovies:b,upVoted:r,downVoted:l,votedMovieData:s,voteList:j,page:i>=19?d+1:d}))},b=n.anyErrors,v=n.movieIndex,u=n.nextMovieData,h=n.downVoted,O=n.votedMovieData,p=n.initialMovies,f=v>1?"A"===h?u:O:p[0],N=v>1?"B"===h?u:O:p[1];return Object(d.jsxs)("div",{className:"vote-screen",children:[Object(d.jsx)("h1",{className:"page-title",children:"vote screen"}),b?Object(d.jsx)("div",{className:"movie-wrapper",children:Object(d.jsxs)("h2",{className:"color-white",children:[b,".."]})}):u?Object(d.jsxs)("div",{className:"movie-wrapper",children:[Object(d.jsx)(x,{movieData:f,voteMovie:function(){return l("A",f)}}),Object(d.jsx)(x,{movieData:N,voteMovie:function(){return l("B",N)}})]}):Object(d.jsx)("div",{className:"movie-wrapper",children:Object(d.jsx)("h2",{className:"color-white",children:"loading.."})}),Object(d.jsx)(s.b,{to:"/leaderboard",state:{data:n.voteList},children:Object(d.jsx)("button",{id:"finishBtn",className:"customBtn",onClick:function(){return e=n.voteList,console.log("finished"),void console.log(e);var e},children:"finish"})})]})}),f=(a(53),function(e){var t=e.children;return Object(d.jsx)("div",{className:"leaderBar",children:t})}),N=(a(54),function(){var e=Object(r.e)().state.data;return Object(d.jsxs)("div",{className:"leaderboard-screen",children:[Object(d.jsx)("h1",{className:"page-title",children:"leaderboard screen"}),Object(d.jsxs)("div",{className:"leaderboard-wrapper",children:[e.map((function(e,t){return Object(d.jsx)(f,{children:Object.keys(e).map((function(t,a){return Object(d.jsx)("div",{children:Object(d.jsx)("span",{children:e[t]})},a)}))},t)})),Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)(b,{bottom:"5vh",right:"5wh",activeColor:"#7dddf4"})})]})]})}),y=function(){return Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(d.jsx)("h1",{children:"404"}),Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)(b,{bottom:"5vh",right:"5vw",activeColor:"#7dddf4"})})]})};a(55);var w=function(){return Object(d.jsx)(s.a,{children:Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{path:"/",element:Object(d.jsx)(u,{})}),Object(d.jsx)(r.a,{path:"/genre",element:Object(d.jsx)(h,{})}),Object(d.jsx)(r.a,{path:"/vote",element:Object(d.jsx)(p,{})}),Object(d.jsx)(r.a,{path:"/leaderboard",element:Object(d.jsx)(N,{})}),Object(d.jsx)(r.a,{path:"*",element:Object(d.jsx)(y,{})})]})})};a(56);i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.d9b49045.chunk.js.map